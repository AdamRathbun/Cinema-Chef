{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";function LikeRecipe(_ref){let{userId,recipeId,authToken,onLike}=_ref;const[isLiking,setIsLiking]=useState(false);const[liked,setLiked]=useState(false);useEffect(()=>{const checkLikedRecipe=async()=>{try{const response=await axios.get(\"http://localhost:5000/check-liked-recipe?user_id=\".concat(userId,\"&recipe_id=\").concat(recipeId),{headers:{Authorization:\"Bearer \".concat(authToken)}});setLiked(response.data.liked);}catch(error){console.error('Error checking liked recipe:',error);}};checkLikedRecipe();},[userId,recipeId,authToken]);const handleLike=async()=>{setIsLiking(true);try{if(liked){await axios.post('http://localhost:5000/delete-like',{user_id:userId,recipe_id:recipeId},{headers:{Authorization:\"Bearer \".concat(authToken),'Content-Type':'application/json'}});setLiked(liked=>!liked);}else{await axios.post('http://localhost:5000/like-recipe',{user_id:userId,recipe_id:recipeId},{headers:{Authorization:\"Bearer \".concat(authToken),'Content-Type':'application/json'}});setLiked(liked=>!liked);}onLike();}catch(error){console.error('Error liking recipe:',error);}finally{setIsLiking(false);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLike,disabled:isLiking,children:\"Like\"})});}export default LikeRecipe;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","LikeRecipe","_ref","userId","recipeId","authToken","onLike","isLiking","setIsLiking","liked","setLiked","checkLikedRecipe","response","get","concat","headers","Authorization","data","error","console","handleLike","post","user_id","recipe_id","children","onClick","disabled"],"sources":["/Users/adamrathbun/Desktop/cinema-chef/client/src/components/LikeRecipe/LikeRecipe.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction LikeRecipe({ userId, recipeId, authToken, onLike }) {\n  const [isLiking, setIsLiking] = useState(false);\n  const [liked, setLiked] = useState(false);\n\n  useEffect(() => {\n    const checkLikedRecipe = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/check-liked-recipe?user_id=${userId}&recipe_id=${recipeId}`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`,\n          },\n        });\n        setLiked(response.data.liked);\n      } catch (error) {\n        console.error('Error checking liked recipe:', error);\n      }\n    };\n    checkLikedRecipe();\n  }, [userId, recipeId, authToken]);\n\n  const handleLike = async () => {\n    setIsLiking(true);\n    try {\n      if (liked) {\n        await axios.post(\n          'http://localhost:5000/delete-like',\n          { user_id: userId, recipe_id: recipeId },\n          {\n            headers: {\n              Authorization: `Bearer ${authToken}`,\n              'Content-Type': 'application/json',\n            },\n          }\n        );\n        setLiked(liked => !liked);\n      } else {\n        await axios.post(\n          'http://localhost:5000/like-recipe',\n          { user_id: userId, recipe_id: recipeId },\n          {\n            headers: {\n              Authorization: `Bearer ${authToken}`,\n              'Content-Type': 'application/json',\n            },\n          }\n        );\n        setLiked(liked => !liked);\n      }\n      onLike();\n    } catch (error) {\n      console.error('Error liking recipe:', error);\n    } finally {\n      setIsLiking(false);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handleLike} disabled={isLiking}>\n        Like\n      </button>\n    </div>\n  );\n}\n\nexport default LikeRecipe;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAA0C,IAAzC,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,MAAO,CAAC,CAAAJ,IAAA,CACzD,KAAM,CAACK,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAEzCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,qDAAAC,MAAA,CAAqDX,MAAM,gBAAAW,MAAA,CAAcV,QAAQ,EAAI,CACnHW,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYT,SAAS,CACpC,CACF,CAAC,CAAC,CACFK,QAAQ,CAACE,QAAQ,CAACK,IAAI,CAACR,KAAK,CAAC,CAC/B,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CACDP,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACR,MAAM,CAAEC,QAAQ,CAAEC,SAAS,CAAC,CAAC,CAEjC,KAAM,CAAAe,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7BZ,WAAW,CAAC,IAAI,CAAC,CACjB,GAAI,CACF,GAAIC,KAAK,CAAE,CACT,KAAM,CAAAX,KAAK,CAACuB,IAAI,CACd,mCAAmC,CACnC,CAAEC,OAAO,CAAEnB,MAAM,CAAEoB,SAAS,CAAEnB,QAAS,CAAC,CACxC,CACEW,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYT,SAAS,CAAE,CACpC,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CACDK,QAAQ,CAACD,KAAK,EAAI,CAACA,KAAK,CAAC,CAC3B,CAAC,IAAM,CACL,KAAM,CAAAX,KAAK,CAACuB,IAAI,CACd,mCAAmC,CACnC,CAAEC,OAAO,CAAEnB,MAAM,CAAEoB,SAAS,CAAEnB,QAAS,CAAC,CACxC,CACEW,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYT,SAAS,CAAE,CACpC,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CACDK,QAAQ,CAACD,KAAK,EAAI,CAACA,KAAK,CAAC,CAC3B,CACAH,MAAM,CAAC,CAAC,CACV,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,OAAS,CACRV,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAED,mBACER,IAAA,QAAAwB,QAAA,cACExB,IAAA,WAAQyB,OAAO,CAAEL,UAAW,CAACM,QAAQ,CAAEnB,QAAS,CAAAiB,QAAA,CAAC,MAEjD,CAAQ,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAvB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}