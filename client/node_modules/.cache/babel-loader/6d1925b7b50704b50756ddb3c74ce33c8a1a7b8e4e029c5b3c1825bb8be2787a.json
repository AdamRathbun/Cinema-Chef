{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";function DislikeRecipe(_ref){let{userId,recipeId,authToken,onLike}=_ref;const[isDisliking,setIsDisliking]=useState(false);const[disliked,setDisliked]=useState(false);useEffect(()=>{const checkDislikedRecipe=async()=>{try{const response=await axios.get(\"http://localhost:5000/check-disliked-recipe?user_id=\".concat(userId,\"&recipe_id=\").concat(recipeId),{headers:{Authorization:\"Bearer \".concat(authToken)}});setDisliked(response.data.disliked);}catch(error){console.error('Error checking disliked recipe:',error);}};checkDislikedRecipe();},[userId,recipeId,authToken]);const handleDislike=async()=>{setIsDisliking(true);try{if(disliked){await axios.post('http://localhost:5000/delete-dislike',{user_id:userId,recipe_id:recipeId},{headers:{Authorization:\"Bearer \".concat(authToken),'Content-Type':'application/json'}});setDisliked(false);}else{await axios.post('http://localhost:5000/dislike-recipe',{user_id:userId,recipe_id:recipeId},{headers:{Authorization:\"Bearer \".concat(authToken),'Content-Type':'application/json'}});setDisliked(true);}onLike();}catch(error){console.error('Error disliking recipe:',error);}finally{setIsDisliking(false);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleDislike,disabled:isDisliking,children:\"Dislike\"})});}export default DislikeRecipe;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","DislikeRecipe","_ref","userId","recipeId","authToken","onLike","isDisliking","setIsDisliking","disliked","setDisliked","checkDislikedRecipe","response","get","concat","headers","Authorization","data","error","console","handleDislike","post","user_id","recipe_id","children","onClick","disabled"],"sources":["/Users/adamrathbun/Desktop/cinema-chef/client/src/components/LikeRecipe/DislikeRecipe.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction DislikeRecipe({ userId, recipeId, authToken, onLike }) {\n  const [isDisliking, setIsDisliking] = useState(false);\n  const [disliked, setDisliked] = useState(false);\n\n  useEffect(() => {\n    const checkDislikedRecipe = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/check-disliked-recipe?user_id=${userId}&recipe_id=${recipeId}`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`,\n          },\n        });\n        setDisliked(response.data.disliked);\n      } catch (error) {\n        console.error('Error checking disliked recipe:', error);\n      }\n    };\n    checkDislikedRecipe();\n  }, [userId, recipeId, authToken]);\n\n  const handleDislike = async () => {\n    setIsDisliking(true);\n    try {\n      if (disliked) {\n        await axios.post(\n          'http://localhost:5000/delete-dislike',\n          { user_id: userId, recipe_id: recipeId },\n          {\n            headers: {\n              Authorization: `Bearer ${authToken}`,\n              'Content-Type': 'application/json',\n            },\n          }\n        );\n        setDisliked(false);\n      } else {\n        await axios.post(\n          'http://localhost:5000/dislike-recipe',\n          { user_id: userId, recipe_id: recipeId },\n          {\n            headers: {\n              Authorization: `Bearer ${authToken}`,\n              'Content-Type': 'application/json',\n            },\n          }\n        );\n        setDisliked(true);\n      }\n      onLike();\n    } catch (error) {\n      console.error('Error disliking recipe:', error);\n    } finally {\n      setIsDisliking(false);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handleDislike} disabled={isDisliking}>\n        Dislike\n      </button>\n    </div>\n  );\n}\n\nexport default DislikeRecipe;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAA0C,IAAzC,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,MAAO,CAAC,CAAAJ,IAAA,CAC5D,KAAM,CAACK,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,wDAAAC,MAAA,CAAwDX,MAAM,gBAAAW,MAAA,CAAcV,QAAQ,EAAI,CACtHW,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYT,SAAS,CACpC,CACF,CAAC,CAAC,CACFK,WAAW,CAACE,QAAQ,CAACK,IAAI,CAACR,QAAQ,CAAC,CACrC,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CACF,CAAC,CACDP,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACR,MAAM,CAAEC,QAAQ,CAAEC,SAAS,CAAC,CAAC,CAEjC,KAAM,CAAAe,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChCZ,cAAc,CAAC,IAAI,CAAC,CACpB,GAAI,CACF,GAAIC,QAAQ,CAAE,CACZ,KAAM,CAAAX,KAAK,CAACuB,IAAI,CACd,sCAAsC,CACtC,CAAEC,OAAO,CAAEnB,MAAM,CAAEoB,SAAS,CAAEnB,QAAS,CAAC,CACxC,CACEW,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYT,SAAS,CAAE,CACpC,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CACDK,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,IAAM,CACL,KAAM,CAAAZ,KAAK,CAACuB,IAAI,CACd,sCAAsC,CACtC,CAAEC,OAAO,CAAEnB,MAAM,CAAEoB,SAAS,CAAEnB,QAAS,CAAC,CACxC,CACEW,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYT,SAAS,CAAE,CACpC,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CACDK,WAAW,CAAC,IAAI,CAAC,CACnB,CACAJ,MAAM,CAAC,CAAC,CACV,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CAAC,OAAS,CACRV,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED,mBACER,IAAA,QAAAwB,QAAA,cACExB,IAAA,WAAQyB,OAAO,CAAEL,aAAc,CAACM,QAAQ,CAAEnB,WAAY,CAAAiB,QAAA,CAAC,SAEvD,CAAQ,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAvB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}